apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: dorashop
resources:
  - ../../base

namePrefix: prod-

replicas:
  - name: dorashop-web
    count: 3

images:
  - name: dorashop-web
    newName: 540649423715.dkr.ecr.ap-southeast-1.amazonaws.com/my-web-app
    newTag: latest

commonLabels:
  environment: production

configMapGenerator:
  - name: app-config
    literals:
      - ENVIRONMENT=production
      - DEBUG=false
      - DB_HOST=prod-db

# Production-specific resource limits
patches:
  - path: patches/resources.yaml
